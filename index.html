<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2025 å¹´åº¦ç¾¤èŠæŠ¥å‘Š - HJTY</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* å…¨å±€å­—ä½“ä¸èƒŒæ™¯ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #0f172a;
            color: #fff;
            overflow: hidden;
        }

        /* åŠ¨æ€æå…‰èƒŒæ™¯ */
        .aurora-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(125deg, #000000 0%, #1a103c 35%, #0f2e38 70%, #000000 100%);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            z-index: -2;
        }
        
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(white 1px, transparent 1px);
            background-size: 50px 50px;
            opacity: 0.1;
            z-index: -1;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Swiper å®¹å™¨ */
        .swiper {
            width: 100%;
            height: 100vh;
        }

        .swiper-slide {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            box-sizing: border-box;
            opacity: 0; /* åˆå§‹éšè—ï¼Œç”±åŠ¨ç”»æ§åˆ¶æ˜¾ç¤º */
            transition: opacity 0.5s;
        }
        
        .swiper-slide-active {
            opacity: 1;
        }

        /* ç»ç’ƒæ‹Ÿæ€å¡ç‰‡ */
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1.5rem;
            padding: 1.5rem;
            width: 100%;
            max-width: 360px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        /* å¤´åƒå…‰æ™• */
        .avatar-glow {
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
            animation: pulse 3s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.4); }
            70% { box-shadow: 0 0 0 20px rgba(139, 92, 246, 0); }
            100% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0); }
        }

        /* éŸ³ä¹æ—‹è½¬å›¾æ ‡ */
        .music-icon {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 50;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            animation: spin 4s linear infinite;
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* ä¸Šæ»‘æç¤º */
        .swipe-hint {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            animation: bounce 2s infinite;
            opacity: 0.7;
        }

        /* å…³é”®è¯æ ·å¼ */
        .keyword-item {
            display: inline-block;
            margin: 5px;
            padding: 5px 12px;
            border-radius: 20px;
            background: rgba(255,255,255,0.1);
            font-size: 14px;
        }

        /* æŸ±çŠ¶å›¾æ ·å¼ */
        .bar-container {
            display: flex;
            align-items: flex-end;
            justify-content: space-between;
            height: 100px;
            width: 100%;
            margin-top: 20px;
        }
        .bar {
            width: 3%;
            background: linear-gradient(to top, #4f46e5, #ec4899);
            border-radius: 2px;
            opacity: 0.7;
        }

        /* å¼•ç”¨è¯­æ ·å¼ */
        .quote-bg {
            position: relative;
        }
        .quote-bg::before {
            content: '"';
            position: absolute;
            top: -20px;
            left: -10px;
            font-size: 60px;
            color: rgba(255,255,255,0.1);
            font-family: serif;
        }

        /* é—ªçƒæ–‡å­— */
        .typing-effect {
            border-right: 2px solid rgba(255,255,255,0.7);
            white-space: nowrap;
            overflow: hidden;
            animation: blink-caret .75s step-end infinite;
        }
        @keyframes blink-caret { from, to { border-color: transparent } 50% { border-color: rgba(255,255,255,0.7); } }

        /* é‡ç‚¹æ•°å­—é«˜äº® */
        .highlight-num {
            font-family: 'Georgia', serif;
            font-style: italic;
            background: linear-gradient(to right, #fbbf24, #f59e0b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
        }
        
        /* é’ˆå¯¹ Keyword Representations çš„ç‰¹æ®Šæ ·å¼ */
        .echo-text {
            font-family: 'Songti SC', serif;
            line-height: 1.8;
            text-shadow: 0 0 10px rgba(255,255,255,0.3);
        }
    </style>
</head>
<body>

    <!-- èƒŒæ™¯ -->
    <div class="aurora-bg"></div>
    <div class="stars"></div>

    <!-- UI å…ƒç´  -->
    <div class="music-icon">
        <i class="fas fa-music text-xs text-white"></i>
    </div>
    <div class="swipe-hint text-white text-opacity-50 text-sm flex flex-col items-center">
        <span>ä¸Šæ»‘æŸ¥çœ‹</span>
        <i class="fas fa-chevron-up mt-1"></i>
    </div>

    <!-- ä¸»å†…å®¹ -->
    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="report-container">
            <!-- Slides will be injected by JS -->
        </div>
    </div>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    
    <script>
        // æ•°æ®æº
        const reportData = {
          "schema": "group_persona_report.v2",
          "generatedAt": 1766051892,
          "range": { "start": "2025-11-10", "end": "2025-12-17" },
          "target": {
            "groupId": "972329244",
            "userId": "845245653",
            "nickname": "HJTY",
            "avatar": { "url": "http://q.qlogo.cn/g?b=qq&nk=845245653&s=640" }
          },
          "stats": {
            "messageCount": 653,
            "activeDays": 23,
            "time": {
              "worktimeRatio": 51,
              "nightOwlCount": 29,
              "latestMessageTs": 1765900734,
              "earliestMessageTs": 1763949612
            },
            "interaction": {
              "coolness": { "score": 37 },
              "topicKillerRate": 16,
              "coldTopicCount": 106
            },
            "content": {
              "avgChars": 13,
              "memeRatio": 9,
              "imageCount": 56,
              "questionMarkCount": 54
            }
          },
          "series": {
             "byHour": [
                {"hour": 0,"count": 40},{"hour": 1,"count": 26},{"hour": 2,"count": 3},{"hour": 3,"count": 0},{"hour": 4,"count": 0},{"hour": 5,"count": 0},
                {"hour": 6,"count": 0},{"hour": 7,"count": 1},{"hour": 8,"count": 8},{"hour": 9,"count": 17},{"hour": 10,"count": 26},{"hour": 11,"count": 44},
                {"hour": 12,"count": 63},{"hour": 13,"count": 71},{"hour": 14,"count": 43},{"hour": 15,"count": 29},{"hour": 16,"count": 41},{"hour": 17,"count": 50},
                {"hour": 18,"count": 49},{"hour": 19,"count": 33},{"hour": 20,"count": 21},{"hour": 21,"count": 45},{"hour": 22,"count": 17},{"hour": 23,"count": 26}
             ]
          },
          "rank": {
            "personaTitle": {
              "name": "æ·±å¤œå“²å­¦å®¶",
              "copywriting": "è¿™ä¸€å¹´ï¼Œä½ æ€»åœ¨æ·±å¤œå‡ºæ²¡ï¼Œç”¨å¹³å‡13ä¸ªå­—çš„çŸ­å¥ï¼Œç‚¹äº®äº†29ä¸ªå¤œæ™šçš„å¯¹è¯æ¡†ã€‚\nå½“ä¸–ç•Œæ²‰ç¡ï¼Œä½ çš„æ€ç»ªå´æ ¼å¤–æ¸…é†’ï¼Œå¶å°”ä¸€å¥â€œéƒ½ä¸è¡Œâ€ï¼Œæ˜¯æ·±å¤œç‹¬æœ‰çš„å€”å¼ºä¸æ€è€ƒã€‚"
            }
          },
          "social": {
            "mostCareYou": { "nickname": "ç»¿ç³", "score": 138 },
            "bestCP": { 
                "userB": { "nickname": "LaVI" }, 
                "interactionScore": 13 
            },
            "lickDogTarget": { "nickname": "ï¿¼", "count": 642 } // Using specific funny data point
          },
          "moments": {
            "latestNight": { "time": "02:26", "text": "éƒ½ä¸è¡Œ", "date": "2025-12-09" },
            "annualKeyword": "æ—¶ä»£",
            "wordCloud": [
               {"word": "æ—¶ä»£", "count": 33}, {"word": "è·å¾—æœ€ä½³", "count": 33}, {"word": "jpg", "count": 32},
               {"word": "å­¦ç”Ÿ", "count": 32}, {"word": "æŠ½å¡", "count": 14}, {"word": "é­”æ³•", "count": 14},
               {"word": "å®¡åˆ¤", "count": 14}, {"word": "é‡å¼€", "count": 9}
            ],
            "keywordRepresentations": [
               "è¦å˜æˆå­¦ç”Ÿæ—¶ä»£äº†å—",
               "æˆ‘ä»¬è¿™é‡Œä¸æ˜¯å­¦ç”Ÿæ—¶ä»£.jpg",
               "è¿˜çœŸæ˜¯å­¦ç”Ÿæ—¶ä»£"
            ]
          },
          "ai": {
             "sentiment": "emo",
             "oneLiner": "åœ¨æ·±å¤œçš„ç¾¤èŠé‡Œï¼Œä½ æ˜¯é‚£ä¸ªç”¨çŸ­å¥ç‚¹äº®å¯¹è¯çš„å“²å­¦å®¶ã€‚"
          }
        };

        // è¾…åŠ©å‡½æ•°ï¼šå°†æ—¶é—´æˆ³è½¬æ—¥æœŸ
        const formatDate = (ts) => new Date(ts * 1000).toLocaleDateString();

        // æ¸²æŸ“å‡½æ•°
        function renderSlides() {
            const container = document.getElementById('report-container');
            const { target, stats, rank, moments, social, series, ai } = reportData;

            // 1. å°é¢é¡µ
            const slide1 = `
                <div class="swiper-slide">
                    <div class="relative w-24 h-24 mb-6 animate__animated animate__zoomIn">
                        <img src="${target.avatar.url}" class="w-full h-full rounded-full border-2 border-white avatar-glow object-cover" onerror="this.src='https://ui-avatars.com/api/?name=${target.nickname}'">
                        <div class="absolute -bottom-2 -right-2 bg-purple-600 text-xs px-2 py-1 rounded-full border border-white">
                            ${target.nickname}
                        </div>
                    </div>
                    <h1 class="text-3xl font-bold mb-2 animate__animated animate__fadeInUp animate__delay-1s">2025</h1>
                    <h2 class="text-xl font-light text-purple-200 tracking-widest animate__animated animate__fadeInUp animate__delay-1s">ç¾¤èŠå¹´åº¦æŠ¥å‘Š</h2>
                    <p class="mt-8 text-sm text-gray-400 animate__animated animate__fadeIn animate__delay-2s">è¿™é‡Œè®°å½•äº†ä½ ç‹¬ç‰¹çš„é¢‘ç‡</p>
                </div>
            `;

            // 2. åŸºç¡€æ•°æ®
            const slide2 = `
                <div class="swiper-slide">
                    <div class="glass-card animate__animated animate__fadeInUp">
                        <div class="mb-6">
                            <p class="text-sm text-gray-300 mb-1">åœ¨è¿™ä¸ªç¾¤é‡Œ</p>
                            <p class="text-lg">ä½ ä¸€å…±æ´»è·ƒäº† <span class="highlight-num text-3xl">${stats.activeDays}</span> å¤©</p>
                        </div>
                        <div class="mb-6">
                            <p class="text-sm text-gray-300 mb-1">å‘é€äº†</p>
                            <p class="text-lg"><span class="highlight-num text-3xl">${stats.messageCount}</span> æ¡æ¶ˆæ¯</p>
                            <p class="text-xs text-gray-400 mt-2">åŒ…å« ${stats.content.imageCount} å¼ å›¾ç‰‡ï¼Œ${stats.content.questionMarkCount} ä¸ªé—®å·</p>
                        </div>
                        <div class="border-t border-white/10 pt-4 mt-4">
                            <p class="text-sm italic text-purple-200">
                                "${stats.content.avgChars} ä¸ªå­—çš„çŸ­å¥ï¼Œæ˜¯ä½ ä¸€è´¯çš„é£æ ¼"
                            </p>
                        </div>
                    </div>
                </div>
            `;

            // 3. æ—¶é—´åˆ†å¸ƒ (æ·±å¤œå“²å­¦å®¶)
            let hourBars = '';
            series.byHour.forEach(h => {
                let height = Math.max(5, (h.count / 71) * 100); // Normalize to max
                hourBars += `<div class="bar" style="height: ${height}%;"></div>`;
            });

            const slide3 = `
                <div class="swiper-slide">
                    <h3 class="text-2xl font-bold mb-6 text-yellow-300 animate__animated animate__fadeInDown">
                        <i class="fas fa-moon mr-2"></i>å¤œçŒ«å­è®¤è¯
                    </h3>
                    <div class="glass-card animate__animated animate__fadeIn">
                        <p class="mb-4">ä½ åœ¨æ·±å¤œæ´»è·ƒäº† <span class="text-yellow-400 font-bold">${stats.time.nightOwlCount}</span> æ¬¡</p>
                        <div class="bg-black/30 p-4 rounded-lg mb-4">
                            <p class="text-xs text-gray-400 mb-2">é‚£å¤© ${moments.latestNight.time}ï¼Œä½ è¿˜åœ¨è¯´ï¼š</p>
                            <p class="text-lg font-serif">"${moments.latestNight.text}"</p>
                            <p class="text-right text-xs text-gray-500 mt-1">${moments.latestNight.date}</p>
                        </div>
                        <p class="text-xs text-gray-400 mb-2">24å°æ—¶æ´»è·ƒåˆ†å¸ƒ</p>
                        <div class="bar-container">
                            ${hourBars}
                        </div>
                    </div>
                </div>
            `;

            // 4. ç¤¾äº¤å…³ç³»
            const slide4 = `
                <div class="swiper-slide">
                    <h3 class="text-xl mb-8 tracking-widest animate__animated animate__fadeInDown">ç¤¾äº¤ç¾ç»Š</h3>
                    
                    <div class="relative w-full max-w-xs h-64">
                        <!-- Best CP -->
                        <div class="absolute top-0 left-0 animate__animated animate__fadeInLeft">
                            <div class="glass-card p-3" style="width: 160px;">
                                <div class="text-pink-400 text-xs mb-1"><i class="fas fa-heart"></i> æœ€ä½³CP</div>
                                <div class="font-bold text-lg">${social.bestCP.userB.nickname}</div>
                                <div class="text-xs text-gray-400">é»˜å¥‘åº¦ ${social.bestCP.interactionScore}</div>
                            </div>
                        </div>

                        <!-- Care You -->
                        <div class="absolute bottom-0 right-0 animate__animated animate__fadeInRight animate__delay-1s">
                            <div class="glass-card p-3" style="width: 160px; border-color: #34d399;">
                                <div class="text-green-400 text-xs mb-1"><i class="fas fa-seedling"></i> æœ€å…³æ³¨ä½ </div>
                                <div class="font-bold text-lg">${social.mostCareYou.nickname}</div>
                                <div class="text-xs text-gray-400">äº’åŠ¨åˆ† ${social.mostCareYou.score}</div>
                            </div>
                        </div>

                        <!-- Special / Lick Dog -->
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 animate__animated animate__zoomIn animate__delay-2s">
                            <div class="text-center">
                                <div class="text-4xl mb-1">ğŸ”—</div>
                                <div class="text-xs text-gray-400">å•å‘è¿æ¥</div>
                                <div class="font-bold">${social.lickDogTarget.nickname}</div>
                                <div class="text-xs text-gray-500">ç¼˜åˆ†å€¼ ${social.lickDogTarget.count}</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // 5. å…³é”®è¯ä¸å›å“ (High Priority Requirement)
            let keywordsHtml = moments.wordCloud.slice(0, 8).map(w => 
                `<span class="keyword-item" style="font-size: ${Math.max(12, Math.min(24, w.count))}px; opacity: ${0.5 + Math.random()*0.5}">${w.word}</span>`
            ).join('');

            let representationsHtml = moments.keywordRepresentations.map((text, index) => 
                `<div class="mb-6 animate__animated animate__fadeInUp" style="animation-delay: ${0.5 + index * 1.5}s">
                    <div class="text-2xl text-white/90 echo-text font-light text-center">â€œ ${text} â€</div>
                </div>`
            ).join('');

            const slide5 = `
                <div class="swiper-slide">
                    <div class="absolute top-10 w-full px-6 flex flex-wrap justify-center opacity-30 pointer-events-none">
                        ${keywordsHtml}
                    </div>

                    <div class="z-10 w-full px-4">
                        <div class="text-center mb-10">
                            <span class="bg-gradient-to-r from-cyan-500 to-blue-500 text-xs px-2 py-1 rounded">å¹´åº¦å…³é”®è¯</span>
                            <h2 class="text-4xl font-bold mt-2 text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-white drop-shadow-lg animate__animated animate__pulse animate__infinite">
                                ${moments.annualKeyword}
                            </h2>
                        </div>

                        <div class="space-y-4">
                            <p class="text-xs text-center text-gray-400 mb-6">â€”â€” å¹´åº¦å›å“ â€”â€”</p>
                            ${representationsHtml}
                        </div>
                    </div>
                </div>
            `;

            // 6. äººè®¾æ€»ç»“
            const slide6 = `
                <div class="swiper-slide">
                    <div class="relative w-full max-w-md p-1">
                        <!-- é‡‘è‰²è¾¹æ¡†ç‰¹æ•ˆ -->
                        <div class="absolute inset-0 bg-gradient-to-r from-yellow-400 via-purple-500 to-blue-500 rounded-2xl blur opacity-75 animate-pulse"></div>
                        
                        <div class="relative bg-gray-900 rounded-2xl p-6 h-full border border-gray-700">
                            <div class="text-center mb-6">
                                <div class="inline-block p-1 rounded-full border-2 border-yellow-500 mb-4">
                                    <img src="${target.avatar.url}" class="w-16 h-16 rounded-full" onerror="this.src='https://ui-avatars.com/api/?name=H'">
                                </div>
                                <h2 class="text-2xl font-bold text-white mb-1">${rank.personaTitle.name}</h2>
                                <p class="text-xs text-gray-400">ID: ${rank.personaTitle.id}</p>
                            </div>
                            
                            <div class="text-sm text-gray-300 leading-relaxed mb-6 text-justify">
                                ${rank.personaTitle.copywriting.replace(/\n/g, '<br/><br/>')}
                            </div>

                            <div class="bg-white/5 rounded p-3 text-xs text-center text-gray-400">
                                "${ai.oneLiner}"
                            </div>
                        </div>
                    </div>
                </div>
            `;

             // 7. ç»“è¯­
             const slide7 = `
                <div class="swiper-slide">
                     <h2 class="text-2xl font-light mb-4">2026</h2>
                     <p class="text-sm text-gray-400 mb-8">æ„¿ä½ ç»§ç»­ä¿æŒç‹¬ç‰¹ï¼Œå…´è‡´ç›ç„¶</p>
                     
                     <button class="bg-white text-black px-8 py-2 rounded-full font-bold animate__animated animate__pulse animate__infinite" onclick="location.reload()">
                        å†çœ‹ä¸€é
                     </button>
                     <p class="absolute bottom-4 text-[10px] text-gray-600">Generated at ${formatDate(reportData.generatedAt)}</p>
                </div>
            `;

            container.innerHTML = slide1 + slide2 + slide3 + slide4 + slide5 + slide6 + slide7;
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            renderSlides();

            const swiper = new Swiper('.mySwiper', {
                direction: 'vertical',
                speed: 600,
                mousewheel: true,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                on: {
                    slideChangeTransitionStart: function () {
                        // é‡ç½®åŠ¨ç”»ï¼šç§»é™¤æ‰€æœ‰å¸¦æœ‰ animate__animated çš„ç±»çš„åŠ¨ç”»çŠ¶æ€ï¼Œå¼ºåˆ¶é‡ç»˜
                        const activeSlide = this.slides[this.activeIndex];
                        const animatedElements = activeSlide.querySelectorAll('.animate__animated');
                        
                        animatedElements.forEach(el => {
                            el.style.display = 'none';
                            el.offsetHeight; // trigger reflow
                            el.style.display = '';
                        });
                    }
                }
            });
        });
    </script>
</body>
</html>
